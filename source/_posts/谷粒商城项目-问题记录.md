---
title: 谷粒商城项目-问题记录
date: 2021-07-09 10:43:41
tags:
 - Java
 - 项目开发
description: 记录开发过程中遇到的问题及解决办法
---

### 搭建gulimall-common模块时，language level总是自动变成5？

解决方法：在pom.xml中加入如下配置：

```xml
<build>
    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <version>3.8.0</version>
            <configuration>
                <source>1.8</source>
                <target>1.8</target>
            </configuration>
        </plugin>
    </plugins>
</build>
```

### 向gulimall-product中导入renren-generator生成的代码，编译时报Cannot Resolve...？

解决方法：重新创建模块，并导入代码。

### 启动renren-generator时报错？

问题原因：

1. pom.xml文件中有报错
2. .properties文件中数据库连接配置错误

### 引入openfeign调用远程服务，启动应用报错？

问题原因：由于SpringCloud Feign在Hoxton.M2 RELEASED版本之后不再使用Ribbon而是使用spring-cloud-loadbalancer，所以不引入spring-cloud-loadbalancer会报错。

解决方法：加入spring-cloud-loadbalancer依赖并且在nacos中排除ribbon依赖，不然loadbalancer无效。

```xml
<dependency>
	<groupId>com.alibaba.cloud</groupId>
	<artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>
	<exclusions>
		<exclusion>
			<groupId>org.springframework.cloud</groupId>
			<artifactId>spring-cloud-starter-netflix-ribbon</artifactId>
		</exclusion>
	</exclusions>
</dependency>
<dependency>
	<groupId>org.springframework.cloud</groupId>
	<artifactId>spring-cloud-starter-loadbalancer</artifactId>
	<version>2.2.1.RELEASE</version>
</dependency>
```

### 无法加载bootstrap.properties文件？

解决方法：gulimall-common添加spring-cloud-starter-bootstrap依赖

```xml
<dependency>
    <groupId>org.springframework.cloud</groupId>
    <artifactId>spring-cloud-starter-bootstrap</artifactId>
    <version>3.0.3</version>
</dependency>
```

